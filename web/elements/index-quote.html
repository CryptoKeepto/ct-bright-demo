

<link rel="import" href="../../bower_components/coral-icon/coral-icon.html">
<link rel="import" href="../../bower_components/coral-flag/coral-flag.html">

<dom-module id="index-quote">
  <template>
     <style>
      
      
    </style>

    <!-- <div class="col-xs-3 "> -->
        <div>
            <div class="row grad">
                <div class="col-xs-6 ">
                    <coral-flag flag="[[flag]]" size="medium"></coral-flag>
                    <span class="grad-text">[[title]]</span>
                </div>
                <div class="col-xs-6">
                  <coral-icon icon$="[[_computeArrow(netChange)]]" change$="[[_computeChangeColor(netChange)]]"></coral-icon>
                </div>
            </div>
            <div class="row non-grad">
                <div class="col-xs-6 "><span class="non-grad-text">[[lastPrice]]</span></div>
                <div class="col-xs-6">
                    <div class="row"><span change$="[[_computeChangeColor(netChange)]]">[[netChange]]</span></div>
                    <div class="row"><span change$="[[_computeChangeColor(netChange)]]">[[percentChange]]</span></div>
                </div>
            </div>
        </div>
    <!-- </div> -->
  </template>
</dom-module>

<script>

  Polymer({
    is: 'index-quote',

    properties: {
      ric: {
        type: String,
        reflectToAttribute: true
      },
      flag: String,
      title: String,


      data: Object,

      lastPrice: String,
      netChange: String,
      percentChange: String
    },

    _computeChangeColor: function(netChange) {
      var value = parseFloat(netChange) || null;
      var change;

      if (value != null && value > 0) {
        change = 'positive';  // Green
      } else if (value != null && value < 0) {
        change = 'negative';
      } else {
        change = 'neutral';
      }

      return change;
    },

    _computeArrow: function(netChange) {
      var value = parseFloat(netChange) || null;
      var change;

      if (value != null && value > 0) {
        change = 'arrow-up';  // Green
      } else if (value != null && value < 0) {
        change = 'arrow-down';
      } else {
        change = '';
      }

      return change;
    }


  });

</script>
